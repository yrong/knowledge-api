<!DOCTYPE html>
<html>
<head>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        function test () {
            $('#log').append('开始请求...')
            $.ajax({
                url: 'http://localhost:3002/auth/login-ldap',
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json; charset=utf-8',
                timeout: 5000,
                data: JSON.stringify({
                    "username":"test test",
                    "password":"test"
                })
            }).done(function (res) {
                $('#log').append('请求成功:'　+ JSON.stringify(res))
            }).fail(function(res) {
                $('#log').append('请求失败:' + JSON.stringify(res))
            })
        }
    </script>
</head>
<body>
<a href="javascript:void(0)" onclick="test()">测试cors请求</a>
<div id="log"></div>
<form
      id='uploadForm'
      action='/api/upload/nc?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIyMWM3OGIzYy1mNjczLTRkZGMtYWJlYi04MDRhOWVlMWZhZTEiLCJ1c2VyIjp7ImlkIjo3MTYsInBlcl9wYWdlIjo5MCwiYXZhdGFyIjoiL3VwbG9hZC9hdmF0YXIvY2E5MmQ1NjAtMDVhNi0xMWU3LTk4YmEtZTFkMDhkZjlhMjVmIiwidHlwZSI6MSwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxMDAsInV1aWQiOjEwMCwicGFzc3dkIjoiYWRtaW4iLCJzdXJuYW1lIjoiIiwibmFtZSI6ImFkbWluIiwiYWxpYXMiOiJhZG1pbiIsInRoZW1lIjoiZGVmYXVsdCIsImxhbmciOiJlbl9HQiIsImNhdGVnb3J5IjoiVXNlciJ9LCJpYXQiOjE0OTc2NzU3ODZ9.Snku022CtE4enqEOg8cxxDLZo0Q5fjX8h8h691KPNII'
      method='post'
      encType="multipart/form-data">
    <input type="file" name="file" />
    <input type='submit' value='Upload!' />
</form>
</body>
</html>