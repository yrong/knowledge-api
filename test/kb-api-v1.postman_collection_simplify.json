[
  {
    "name": "search topic and related replies  by topic id",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions/search",
    "body": {
      "filter": {
        "$or": [
          {
            "uuid": "25711a9b-9097-4e1f-a709-f994eea05f8e"
          },
          {
            "reply_id": "25711a9b-9097-4e1f-a709-f994eea05f8e"
          }
        ]
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "search replies by article id",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions/search",
    "body": {
      "filter": {
        "article_id": "3a13aa94-d2af-4876-af54-30d46c06a751",
        "type": "reply"
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "search articles  by filter with empty fields",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles/search",
    "body": {
      "filter": {
        "type": "",
        "it_service": {
          "$overlap": []
        },
        "$or": [
          {
            "tag": {
              "$overlap": [
                ""
              ]
            }
          },
          {
            "keyword": {
              "$fulltext": ""
            }
          }
        ]
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "search count of articles and discussions by it service keyword",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles/search",
    "body": {
      "filter": {
        "type": "Troubleshooting",
        "it_service": {
          "$overlap": [
            "pop3",
            "email"
          ]
        },
        "$or": [
          {
            "tag": {
              "$overlap": [
                "人生"
              ]
            }
          },
          {
            "keyword": {
              "$fulltext": "水电费"
            }
          }
        ]
      },
      "countOnly": true
    }
  },
  {
    "name": "search articles  by filter with name of ITServiceGroup",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles/search",
    "body": {
      "filter": {
        "type": "",
        "it_service": {
          "$overlap": [
            "Infrastructure"
          ]
        },
        "$or": [
          {
            "tag": {
              "$overlap": [
                "测试"
              ]
            }
          },
          {
            "keyword": {
              "$fulltext": "水电费"
            }
          }
        ]
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "delete articles",
    "method": "DELETE",
    "url": "http://localhost:3000/KB/API/v1/synergy",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154"
    }
  },
  {
    "name": "aggregate article 2",
    "method": "GET",
    "url": "http://localhost:3000/KB/API/v1/articles/9c24f6b5-80b7-45a3-ad4a-575e919c70f7/score/aggregate"
  },
  {
    "name": "reply topic 1",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154",
      "article_id": "3a13aa94-d2af-4876-af54-30d46c06a751",
      "from": "li_si",
      "to": [
        "zhang_san",
        "wang_wu"
      ],
      "content": "测试内容水电费释放",
      "type": "reply",
      "reply_id": "25711a9b-9097-4e1f-a709-f994eea05f8e"
    }
  },
  {
    "name": "search replies by topic id",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions/search",
    "body": {
      "filter": {
        "reply_id": "25711a9b-9097-4e1f-a709-f994eea05f8e"
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "delete article 1_1",
    "method": "DELETE",
    "url": "http://localhost:3000/KB/API/v1/articles/bd3aa8bc-feb6-4aa8-92dc-1990a34be7ba",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154"
    }
  },
  {
    "name": "search topics and replies  by article id ",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions/search",
    "body": {
      "filter": {
        "article_id": "3a13aa94-d2af-4876-af54-30d46c06a751"
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": " count articles and discussions by it service group and filter by keyword",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles/search",
    "body": {
      "filter": {
        "type": "Troubleshooting",
        "$or": [
          {
            "tag": {
              "$overlap": [
                "测试"
              ]
            }
          },
          {
            "keyword": {
              "$fulltext": "水电费"
            }
          }
        ]
      },
      "countBy": "ITServiceGroup"
    }
  },
  {
    "name": "score article 2",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles/9c24f6b5-80b7-45a3-ad4a-575e919c70f7/score",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154",
      "score": 5
    }
  },
  {
    "name": "add topic 1",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154",
      "article_id": "3a13aa94-d2af-4876-af54-30d46c06a751",
      "from": "zhang_san",
      "to": [
        "li_si",
        "wang_wu"
      ],
      "content": "评论的测试内容水电费释放但",
      "type": "topic"
    }
  },
  {
    "name": "query it service group from cmdb-api",
    "method": "GET",
    "url": "http://localhost:3001/api/it_services/group/"
  },
  {
    "name": "get all tags",
    "method": "GET",
    "url": "http://localhost:3000/KB/API/v1/articles/tag"
  },
  {
    "name": "add article 2 with token in cookie",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles",
    "body": {
      "title": "煤气费",
      "it_service": [
        "8d0ef6b0-11f4-11e7-b6b8-d560d215e6e4"
      ],
      "tag": [
        "测试",
        "随机"
      ],
      "author": "随机",
      "ref_links": [
        "https://www.baidu.com"
      ],
      "tasks": "测试插入",
      "type": "Troubleshooting",
      "content": {
        "description": "煤气费",
        "analysis": "煤气费",
        "solution": "前几天，我的邻居小伙伴突然在QQ上问我突然在不，她比我大几岁，平日里交集不算太多，这么冷不丁的来一句“在吗？”，让我误以为是骗子又来实施诈骗了",
        "workaround": "煤气费"
      }
    }
  },
  {
    "name": "add article 1_1",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154",
      "title": "水电费",
      "it_service": [
        "8cc40b00-11f4-11e7-b6b8-d560d215e6e4",
        "8ce66010-11f4-11e7-b6b8-d560d215e6e4",
        "8d0ef6b0-11f4-11e7-b6b8-d560d215e6e4"
      ],
      "tag": [
        "测试",
        "随机"
      ],
      "author": "随机",
      "ref_links": [
        "https://www.baidu.com/"
      ],
      "tasks": "测试插入",
      "type": "Troubleshooting",
      "content": {
        "description": "水电费",
        "analysis": "水电费",
        "solution": "前几天，我的邻居小伙伴突然在QQ上问我突然在不，她比我大几岁，平日里交集不算太多，这么冷不丁的来一句“在吗？”，让我误以为是骗子又来实施诈骗了",
        "workaround": "水电费"
      }
    }
  },
  {
    "name": "get article 2",
    "method": "GET",
    "url": "http://localhost:3000/KB/API/v1/articles/9c24f6b5-80b7-45a3-ad4a-575e919c70f7"
  },
  {
    "name": "modify article 2",
    "method": "PUT",
    "url": "http://localhost:3000/KB/API/v1/articles/9c24f6b5-80b7-45a3-ad4a-575e919c70f7",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154",
      "title": "煤气费",
      "tag": [
        "测试",
        "随机"
      ],
      "author": "随机",
      "ref_links": [
        "https://www.baidu.com"
      ],
      "tasks": "测试插入",
      "type": "Troubleshooting",
      "content": {
        "description": "煤气费",
        "analysis": "煤气费",
        "solution": "前几天，我的邻居小伙伴突然在QQ上问我突然在不，她比我大几岁，平日里交集不算太多，这么冷不丁的来一句“在吗？”，让我误以为是骗子又来实施诈骗了",
        "workaround": "煤气费"
      }
    }
  },
  {
    "name": "query it service from cmdb-api",
    "method": "GET",
    "url": "http://localhost:3001/api/it_services/service/"
  },
  {
    "name": "search discussions  by keyword or topic",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions/search",
    "body": {
      "filter": {
        "$or": [
          {
            "type": "topic"
          },
          {
            "keyword": {
              "$fulltext": "测试"
            }
          }
        ]
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "search articles  by filter with name of ITService",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles/search",
    "body": {
      "filter": {
        "type": "",
        "it_service": {
          "$overlap": [
            "pop3",
            "email"
          ]
        },
        "$or": [
          {
            "tag": {
              "$overlap": [
                "人生"
              ]
            }
          },
          {
            "keyword": {
              "$fulltext": "水电费"
            }
          }
        ]
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "search articles  by filter with  ITServiceGroup Messaging",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles/search",
    "body": {
      "filter": {
        "type": "",
        "it_service": {
          "$overlap": [
            "Messaging"
          ]
        },
        "$or": [
          {
            "tag": {
              "$overlap": [
                "测试"
              ]
            }
          },
          {
            "keyword": {
              "$fulltext": "水电费"
            }
          }
        ]
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "login",
    "method": "POST",
    "url": "{{auth_url}}/auth/login",
    "body": {
      "username": "{{username}}",
      "password": "{{password}}"
    }
  },
  {
    "name": "get all articles",
    "method": "GET",
    "url": "http://localhost:3000/KB/API/v1/articles"
  },
  {
    "name": "patch article 2",
    "method": "PATCH",
    "url": "http://localhost:3000/KB/API/v1/articles/9c24f6b5-80b7-45a3-ad4a-575e919c70f7",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154",
      "title": "停车费"
    }
  },
  {
    "name": "get all discussions ",
    "method": "GET",
    "url": "http://localhost:3000/KB/API/v1/discussions"
  },
  {
    "name": "add article 1",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/articles",
    "body": {
      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ4NTNlOS1iNDMzLTQ1YzktODhhMy1jM2Y4MDRjMDUxODAiLCJ1c2VyIjp7ImlkIjoxMDA1LCJwYXNzd2QiOiIwOThmNmJjZDQ2MjFkMzczY2FkZTRlODMyNjI3YjRmNiIsImNyZWF0ZWQiOjE0OTA1MTI3NzU4MDIsInN1cm5hbWUiOiIiLCJuYW1lIjoibmVyZHMiLCJhbGlhcyI6Im5lcmRzIiwidGhlbWUiOiJkZWZhdWx0IiwibGFuZyI6ImVuX0dCIiwidHlwZSI6MSwiY2F0ZWdvcnkiOiJVc2VyIiwiYXR0ZW1wdF9pcCI6IjEwLjUwLjEzLjY5IiwidXNlcmlkIjoxLCJ1dWlkIjoxfSwiaWF0IjoxNDkwNTEzNTQ4fQ.bIeCf3SN02XOCwHVKhbjJGAYRMZWBFNo1lnu6kk9154",
      "title": "水电费",
      "it_service": [
        "8cc40b00-11f4-11e7-b6b8-d560d215e6e4"
      ],
      "tag": [
        "测试",
        "随机"
      ],
      "author": "随机",
      "ref_links": [
        "https://www.baidu.com/"
      ],
      "tasks": "测试插入",
      "type": "Troubleshooting",
      "content": {
        "description": "水电费",
        "analysis": "水电费",
        "solution": "前几天，我的邻居小伙伴突然在QQ上问我突然在不，她比我大几岁，平日里交集不算太多，这么冷不丁的来一句“在吗？”，让我误以为是骗子又来实施诈骗了",
        "workaround": "水电费"
      }
    }
  },
  {
    "name": "get topic 1",
    "method": "GET",
    "url": "http://localhost:3000/KB/API/v1/discussions/25711a9b-9097-4e1f-a709-f994eea05f8e"
  },
  {
    "name": "search reply by topic id",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions/search",
    "body": {
      "filter": {
        "uuid": "25711a9b-9097-4e1f-a709-f994eea05f8e"
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "search discussions  by topic",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions/search",
    "body": {
      "filter": {
        "type": "topic"
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  },
  {
    "name": "search discussions  by keyword and topic",
    "method": "POST",
    "url": "http://localhost:3000/KB/API/v1/discussions/search",
    "body": {
      "filter": {
        "type": "topic",
        "keyword": {
          "$fulltext": "测试"
        }
      },
      "page": 1,
      "per_page": 2,
      "sortby": "createdAt",
      "order": "desc"
    }
  }
]
